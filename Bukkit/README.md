## Preamble

Before using this in your plugin, please keep the following in mind when deciding if you want to use this:

1. You are free to modify the code as you wish. However, if you must set the update interval below 5 minutes, please contact Hidendra first. Not following this may mean updates from your plugin are blocked entirely.
2. This service is **free** and I cannot guarantee 100% uptime, so any downtime should be regarded as unavoidable.

Submitting stats to metrics is extremely easy. Add the `Metrics.java` file found in this same folder in your plugin and make sure it is in **your own package** to prevent conflicts with other plugins. Move on to the examples below to see how to implement it.

**Regarding opt-out/guid/etc:** This is done **automatically** internally so there is no work for you to do besides what is below. To opt-out, a user must edit the `plugins/PluginMetrics/config.yml` file and change `opt-out: false` to `out-out: true`

## Creating a plugin on the website

When your plugin first connects it will create it automatically on the website. If you want the author tag set or your plugin hidden from the main page, please contact me.

## Usage

    try {
        Metrics metrics = new Metrics();
        metrics.beginMeasuringPlugin(plugin);
    } catch (IOException e) {
        // Failed to submit the stats :-(
    }

## Custom Data

You can also submit your own custom data that can be graphed, as seen [here](http://metrics.griefcraft.com/plugin/LWC). This is very easy and here is an example from LWC:

    try {
        Metrics metrics = new Metrics();

        // Plot the total amount of protections
        metrics.addCustomData(plugin, new Metrics.Plotter("Total Protections") {

            @Override
            public int getValue() {
                return physicalDatabase.getProtectionCount();
            }

        });

        metrics.beginMeasuringPlugin(plugin);
    } catch (IOException e) {
        log(e.getMessage());
    }

## Custom graphs

While you can send in custom data, there is another very powerful feature available: Multiple graphs.

Currently, metrics provides the ability to create four different types of graphs:

* `Line` - A simple line graph. Also includes a scrollable timeline to view as little or as much data as you want
* `Area` - The same as a Line graph, except the area under curves are shaded
* `Column` - A column graph, which is a graph where the data is represented by columns on the vertical axis, i.e they go up and down
* `Pie` - A pie graph. The graph is generated by taking the data for the last hour and summing it together. Then the percentage for each plotter is calculated via `round( (plot / total) * 100, 2 )`

Here is a simple example which creates a Pie graph:

    try {
        Metrics metrics = new Metrics();

        // Construct a graph, which can be immediately used and considered as valid
        Graph graph = metrics.createGraph(plugin, Graph.Type.Pie, "Percentage of weapons used");

        // Diamond sword
        graph.addPlotter(new Metrics.Plotter("Diamond Sword") {

                @Override
                public int getValue() {
                        return 4; // Number of players who used a diamond sword
                }

        });

        // Iron sword
        graph.addPlotter(new Metrics.Plotter("Iron Sword") {

                @Override
                public int getValue() {
                        return 17;
                }

        });

        metrics.beginMeasuringPlugin(plugin);
    } catch (IOException e) {
        log(e.getMessage());
    }